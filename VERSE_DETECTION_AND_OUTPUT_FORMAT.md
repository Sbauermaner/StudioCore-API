# üéµ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—É–ø–ª–µ—Ç–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

## üìã –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫—É–ø–ª–µ—Ç (verse) –≤ —Ç–µ–∫—Å—Ç–µ –±–µ–∑ —è–≤–Ω—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π?

### **–ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π**

#### **1. –ü–µ—Ä–≤–∏—á–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** (`extract_sections`)

**–§–∞–π–ª**: `studiocore/text_utils.py`, —Å—Ç—Ä–æ–∫–∏ 132-173

```python
def extract_sections(text: str) -> List[Dict[str, Any]]:
    """
    –î–µ–ª–∏—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Å–µ–∫—Ü–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –º–∞—Ä–∫–µ—Ä–æ–≤:
      1) –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏:   [Verse 1 ‚Äì soft], [Chorus], [Bridge x2]
      2) –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º/Markdown:  "–ü—Ä–∏–ø–µ–≤:", "Chorus:", "## Verse 2:"
    –ï—Å–ª–∏ —è–≤–Ω—ã—Ö —Å–µ–∫—Ü–∏–π –Ω–µ—Ç ‚Äî –≤–µ—Å—å —Ç–µ–∫—Å—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–¥–Ω—É —Å–µ–∫—Ü–∏—é 'Body'.
    """
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–∞–∑–±–∏–µ–Ω–∏—è:**

1. **–Ø–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö**:
   - `[Verse 1]`, `[Verse]`, `[–ö—É–ø–ª–µ—Ç]`
   - `[Chorus]`, `[–ü—Ä–∏–ø–µ–≤]`
   - `[Bridge]`, `[–ë—Ä–∏–¥–∂]`
   - `[Intro]`, `[Outro]`

2. **–ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º**:
   - `Verse 1:`, `–ü—Ä–∏–ø–µ–≤:`, `Chorus:`
   - `## Verse 2:` (Markdown)

3. **–ï—Å–ª–∏ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω–µ—Ç**:
   - –í–µ—Å—å —Ç–µ–∫—Å—Ç –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–¥–Ω—É —Å–µ–∫—Ü–∏—é —Å —Ç–µ–≥–æ–º `"Body"`

**–ü—Ä–∏–º–µ—Ä:**
```python
# –¢–µ–∫—Å—Ç –ë–ï–ó –º–∞—Ä–∫–µ—Ä–æ–≤:
text = """
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞

–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
"""

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
sections = [
    {
        "tag": "Body",
        "lines": [
            "–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞",
            "–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞",
            "–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞",
            "",
            "–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞",
            "–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞"
        ]
    }
]
```

---

#### **2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** (`auto_section_split`)

**–§–∞–π–ª**: `studiocore/logical_engines.py`, —Å—Ç—Ä–æ–∫–∏ 86-113

```python
def auto_section_split(self, text: str) -> List[str]:
    self.reset()
    structured = extract_sections(text)  # –ü–æ–ª—É—á–∞–µ–º —Å–µ–∫—Ü–∏–∏ –∏–∑ extract_sections
    sections: List[str] = []
    metadata: List[Dict[str, Any]] = []
    
    for item in structured:
        lines = item.get("lines", [])
        section_text = "\n".join(lines).strip()
        if section_text:
            sections.append(section_text)
        metadata.append({
            "tag": item.get("tag"),
            "lines": list(lines),
            "line_count": len(lines),
        })
    
    # –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî –≤–µ—Ä–Ω—É—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∫–∞–∫ –æ–¥–Ω—É —Å–µ–∫—Ü–∏—é
    if not sections and text.strip():
        sections = [text.strip()]
    
    return sections
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ = –æ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è —Ç–µ–∫—Å—Ç–∞

---

#### **3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–µ–∫—Ü–∏–∏** (`detect_verse`, `detect_chorus`)

**–§–∞–π–ª**: `studiocore/logical_engines.py`, —Å—Ç—Ä–æ–∫–∏ 120-177

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

```python
def _resolve_section(self, label: str, text: str, sections: Sequence[str] | None, fallback_index: int):
    sections = self._resolve_sections(text, sections)
    
    # –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
    keywords = self.KEYWORDS.get(label, ())
    # –î–ª—è verse: ("verse", "–∫—É–ø–ª–µ—Ç", "strofa")
    # –î–ª—è chorus: ("chorus", "–ø—Ä–∏–ø–µ–≤", "hook", "refrain")
    
    match_index = None
    for idx, section in enumerate(sections):
        low = section.lower()
        if any(token in low for token in keywords):
            match_index = idx
            break
    
    # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback_index
    if match_index is None:
        match_index = min(fallback_index, len(sections) - 1)
        confidence = 0.4  # –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
    else:
        confidence = 0.75  # –í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
    
    return {
        "label": label,
        "index": match_index,
        "text": sections[match_index],
        "confidence": round(confidence, 3),
    }
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –∫—É–ø–ª–µ—Ç–∞ (verse):**

1. **–ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤** –≤ —Ç–µ–∫—Å—Ç–µ —Å–µ–∫—Ü–∏–∏:
   - `"verse"`, `"–∫—É–ø–ª–µ—Ç"`, `"strofa"` (–≤ –ª—é–±–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ)

2. **–ï—Å–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –Ω–µ—Ç**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **fallback_index**:
     - –ï—Å–ª–∏ —Å–µ–∫—Ü–∏—è –æ–¥–Ω–∞ ‚Üí –∏–Ω–¥–µ–∫—Å 0
     - –ï—Å–ª–∏ —Å–µ–∫—Ü–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Üí –∏–Ω–¥–µ–∫—Å 1 (–æ–±—ã—á–Ω–æ –ø–µ—Ä–≤–∞—è —Å–µ–∫—Ü–∏—è –ø–æ—Å–ª–µ intro)

3. **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (confidence)**:
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ: **0.75** (–≤—ã—Å–æ–∫–∞—è)
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω fallback: **0.4** (–Ω–∏–∑–∫–∞—è)

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ 100 —Å—Ç—Ä–æ–∫ –ë–ï–ó –º–∞—Ä–∫–µ—Ä–æ–≤:**

```python
# –¢–µ–∫—Å—Ç –∏–∑ 100 —Å—Ç—Ä–æ–∫ –±–µ–∑ –º–∞—Ä–∫–µ—Ä–æ–≤
text = """
–°—Ç—Ä–æ–∫–∞ 1 –∫—É–ø–ª–µ—Ç–∞
–°—Ç—Ä–æ–∫–∞ 2 –∫—É–ø–ª–µ—Ç–∞
...
–°—Ç—Ä–æ–∫–∞ 50 –∫—É–ø–ª–µ—Ç–∞

–°—Ç—Ä–æ–∫–∞ 51 –ø—Ä–∏–ø–µ–≤–∞
–°—Ç—Ä–æ–∫–∞ 52 –ø—Ä–∏–ø–µ–≤–∞
...
–°—Ç—Ä–æ–∫–∞ 100 –ø—Ä–∏–ø–µ–≤–∞
"""

# –®–∞–≥ 1: extract_sections
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –û–î–ù–ê —Å–µ–∫—Ü–∏—è —Å —Ç–µ–≥–æ–º "Body" (100 —Å—Ç—Ä–æ–∫)

# –®–∞–≥ 2: auto_section_split
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ["–°—Ç—Ä–æ–∫–∞ 1...\n...–°—Ç—Ä–æ–∫–∞ 100"] (–æ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è)

# –®–∞–≥ 3: detect_verse
# –ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: "verse", "–∫—É–ø–ª–µ—Ç" –≤ —Ç–µ–∫—Å—Ç–µ
# –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí fallback_index = 0 (–ø–µ—Ä–≤–∞—è —Å–µ–∫—Ü–∏—è)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {
#     "label": "verse",
#     "index": 0,
#     "text": "–°—Ç—Ä–æ–∫–∞ 1...\n...–°—Ç—Ä–æ–∫–∞ 100",
#     "confidence": 0.4  # –ù–∏–∑–∫–∞—è, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω fallback
# }
```

---

#### **4. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–ø–µ–≤–∞** (`detect_chorus_by_pattern`)

**–§–∞–π–ª**: `studiocore/section_intelligence.py`, —Å—Ç—Ä–æ–∫–∏ 45-102

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø—Ä–∏–ø–µ–≤–∞ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º:**

```python
def detect_chorus_by_pattern(self, sections: Sequence[str] | None, text: str):
    """
    –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–ø–µ–≤ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:
    1. –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏/—Ñ—Ä–∞–∑—ã
    2. –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–µ–∫—Ü–∏–∏
    3. –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∏–∫–∏
    """
    
    # 1. –ü–æ–∏—Å–∫ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç—Ä–æ–∫
    all_lines = text.split("\n")
    line_counts = {}
    for line in all_lines:
        normalized = line.strip().lower()
        if normalized:
            line_counts[normalized] = line_counts.get(normalized, 0) + 1
    
    # 2. –ü–æ–∏—Å–∫ —Å–µ–∫—Ü–∏–π —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º
    section_scores = []
    for idx, section in enumerate(sections):
        section_lines = section.split("\n")
        repeat_score = sum(
            line_counts.get(line.strip().lower(), 0) 
            for line in section_lines 
            if line.strip()
        ) / max(len(section_lines), 1)
        section_scores.append((idx, repeat_score))
    
    # 3. –í—ã–±–æ—Ä —Å–µ–∫—Ü–∏–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º score
    if section_scores:
        best_idx = max(section_scores, key=lambda x: x[1])[0]
        return {"index": best_idx, "confidence": 0.7}
    
    # 4. Fallback: –≤—Ç–æ—Ä–∞—è —Å–µ–∫—Ü–∏—è (–æ–±—ã—á–Ω–æ –ø—Ä–∏–ø–µ–≤)
    return {"index": 1, "confidence": 0.4}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –ø—Ä–∏–ø–µ–≤–∞:**

1. **–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å—Ç—Ä–æ–∫–∏** - —Å–µ–∫—Ü–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç—Ä–æ–∫
2. **–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–µ–∫—Ü–∏–∏** - –µ—Å–ª–∏ —Å–µ–∫—Ü–∏—è –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
3. **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∏–∫–∏** - —Å–µ–∫—Ü–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å—é
4. **Fallback** - –≤—Ç–æ—Ä–∞—è —Å–µ–∫—Ü–∏—è (–æ–±—ã—á–Ω–æ –ø—Ä–∏–ø–µ–≤ –∏–¥–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫—É–ø–ª–µ—Ç–∞)

---

### **–ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ 100 —Å—Ç—Ä–æ–∫ –ë–ï–ó –º–∞—Ä–∫–µ—Ä–æ–≤:**

```python
# –¢–µ–∫—Å—Ç –∏–∑ 100 —Å—Ç—Ä–æ–∫, —Ä–∞–∑–±–∏—Ç –Ω–∞ –∫—É–ø–ª–µ—Ç—ã –ø–æ –ø—É—Å—Ç—ã–º —Å—Ç—Ä–æ–∫–∞–º
text = """
–°—Ç—Ä–æ–∫–∞ 1 –∫—É–ø–ª–µ—Ç–∞ 1
–°—Ç—Ä–æ–∫–∞ 2 –∫—É–ø–ª–µ—Ç–∞ 1
...
–°—Ç—Ä–æ–∫–∞ 20 –∫—É–ø–ª–µ—Ç–∞ 1

–°—Ç—Ä–æ–∫–∞ 21 –ø—Ä–∏–ø–µ–≤–∞ (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
–°—Ç—Ä–æ–∫–∞ 22 –ø—Ä–∏–ø–µ–≤–∞ (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
...
–°—Ç—Ä–æ–∫–∞ 30 –ø—Ä–∏–ø–µ–≤–∞

–°—Ç—Ä–æ–∫–∞ 31 –∫—É–ø–ª–µ—Ç–∞ 2
–°—Ç—Ä–æ–∫–∞ 32 –∫—É–ø–ª–µ—Ç–∞ 2
...
–°—Ç—Ä–æ–∫–∞ 50 –∫—É–ø–ª–µ—Ç–∞ 2

–°—Ç—Ä–æ–∫–∞ 51 –ø—Ä–∏–ø–µ–≤–∞ (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è - –¢–ê –ñ–ï –°–ï–ö–¶–ò–Ø!)
–°—Ç—Ä–æ–∫–∞ 52 –ø—Ä–∏–ø–µ–≤–∞ (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
...
–°—Ç—Ä–æ–∫–∞ 60 –ø—Ä–∏–ø–µ–≤–∞

–°—Ç—Ä–æ–∫–∞ 61 –±—Ä–∏–¥–∂–∞
...
–°—Ç—Ä–æ–∫–∞ 80 –±—Ä–∏–¥–∂–∞

–°—Ç—Ä–æ–∫–∞ 81 –ø—Ä–∏–ø–µ–≤–∞ (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è - –¢–ê –ñ–ï –°–ï–ö–¶–ò–Ø!)
...
–°—Ç—Ä–æ–∫–∞ 100 –ø—Ä–∏–ø–µ–≤–∞
"""

# –®–∞–≥ 1: extract_sections
# –ï—Å–ª–∏ –Ω–µ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤ ‚Üí –û–î–ù–ê —Å–µ–∫—Ü–∏—è "Body" —Å–æ –≤—Å–µ–º–∏ 100 —Å—Ç—Ä–æ–∫–∞–º–∏

# –®–∞–≥ 2: auto_section_split
# –ï—Å–ª–∏ –Ω–µ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤ ‚Üí ["–≤—Å–µ 100 —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–π —Å–µ–∫—Ü–∏–∏"]

# –®–∞–≥ 3: detect_chorus_by_pattern
# –ê–Ω–∞–ª–∏–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π:
# - –°—Ç—Ä–æ–∫–∏ 21-30 –∏ 51-60 –∏ 81-100 - –û–î–ò–ù–ê–ö–û–í–´–ï (–ø—Ä–∏–ø–µ–≤!)
# - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π repeat_score ‚Üí —ç—Ç–æ –ø—Ä–∏–ø–µ–≤
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"index": 0, "confidence": 0.7}  # –í—Å—è —Å–µ–∫—Ü–∏—è = –ø—Ä–∏–ø–µ–≤

# –®–∞–≥ 4: detect_verse
# –ü–æ–∏—Å–∫ "verse", "–∫—É–ø–ª–µ—Ç" ‚Üí –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
# Fallback: –∏–Ω–¥–µ–∫—Å 0 (–ø–µ—Ä–≤–∞—è —Å–µ–∫—Ü–∏—è)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {"index": 0, "confidence": 0.4}  # –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
```

---

## ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ë–ï–ó –º–∞—Ä–∫–µ—Ä–æ–≤:**

### **–ü—Ä–æ–±–ª–µ–º–∞:**
–ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –∏–∑ 100 —Å—Ç—Ä–æ–∫ **–ù–ï –∏–º–µ–µ—Ç —è–≤–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤** –∏ **–ù–ï —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å–µ–∫—Ü–∏–∏** (–Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –º–µ–∂–¥—É –∫—É–ø–ª–µ—Ç–∞–º–∏), —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –µ–≥–æ –∫–∞–∫ **–û–î–ù–£ —Å–µ–∫—Ü–∏—é "Body"**.

### **–†–µ—à–µ–Ω–∏–µ:**
1. **–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã** –≤ —Ç–µ–∫—Å—Ç:
   ```
   [Verse 1]
   –°—Ç—Ä–æ–∫–∞ 1...
   ...
   
   [Chorus]
   –°—Ç—Ä–æ–∫–∞ 21...
   ...
   ```

2. **–†–∞–∑–±–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏**:
   ```
   –°—Ç—Ä–æ–∫–∞ 1 –∫—É–ø–ª–µ—Ç–∞
   ...
   –°—Ç—Ä–æ–∫–∞ 20 –∫—É–ø–ª–µ—Ç–∞
   
   –°—Ç—Ä–æ–∫–∞ 21 –ø—Ä–∏–ø–µ–≤–∞
   ...
   –°—Ç—Ä–æ–∫–∞ 30 –ø—Ä–∏–ø–µ–≤–∞
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏**:
   ```
   Verse 1:
   –°—Ç—Ä–æ–∫–∞ 1...
   
   Chorus:
   –°—Ç—Ä–æ–∫–∞ 21...
   ```

---

## üì§ –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –ª–∏—Ä–∏–∫–∏

### **–í–æ–ø—Ä–æ—Å: –û—Å—Ç–∞–µ—Ç—Å—è –ª–∏ –ª–∏—Ä–∏–∫–∞ –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π?**

### ‚úÖ **–û—Ç–≤–µ—Ç: –î–ê, –Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö**

–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π** —Ç–µ–∫—Å—Ç–∞:

#### **1. `fanf.ui_text` - –û—á–∏—â–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è UI**

**–§–∞–π–ª**: `studiocore/core_v6.py`, —Å—Ç—Ä–æ–∫–∏ 93-96, 844

```python
def _extract_ui_text(from_block: str) -> str:
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç, —É–±–∏—Ä–∞—è –º–∞—Ä–∫–µ—Ä—ã [Section] –∏ –∫–æ–º–∞–Ω–¥—ã."""
    lines = []
    for line in from_block.split("\n"):
        s = line.strip()
        if not s:
            continue
        if s.startswith("[") and s.endswith("]"):
            continue  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –º–∞—Ä–∫–µ—Ä—ã —Å–µ–∫—Ü–∏–π
        lines.append(s)
    return "\n".join(lines)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
- ‚úÖ –£–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –º–∞—Ä–∫–µ—Ä—ã `[Section]` –∏ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—Å—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–ü—Ä–∏–º–µ—Ä:**
```python
# –í—Ö–æ–¥–Ω–æ–π —Ç–µ–∫—Å—Ç:
text = """
[Verse 1]
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞

[Chorus]
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
"""

# fanf.ui_text:
"""
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞

–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
"""
```

---

#### **2. `fanf.lyrics_prompt` - –¢–µ–∫—Å—Ç —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Å–µ–∫—Ü–∏–π**

**–§–∞–π–ª**: `studiocore/core_v6.py`, —Å—Ç—Ä–æ–∫–∏ 2315-2329

```python
lyrics_prompt_lines = []
for section in lyrics.get("sections", []):
    sec_name = section.get("name", "Section")
    mood = section.get("mood", "neutral")
    energy = section.get("energy", "mid")
    arrangement = section.get("arrangement", "standard")
    
    header = f"[{sec_name.upper()}: mood={mood}, energy={energy}, arr={arrangement}]"
    lyrics_prompt_lines.append(header)
    
    for line in section.get("lines", []):
        lyrics_prompt_lines.append(line)

lyrics_prompt_str = "\n".join(lyrics_prompt_lines)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
- ‚úÖ –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ö–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –ø–æ–º–µ—á–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º, —ç–Ω–µ—Ä–≥–∏–µ–π, –∞—Ä–∞–Ω–∂–∏—Ä–æ–≤–∫–æ–π

**–ü—Ä–∏–º–µ—Ä:**
```python
# fanf.lyrics_prompt:
"""
[VERSE: mood=neutral, energy=mid, arr=standard]
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞

[CHORUS: mood=joy, energy=high, arr=full]
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
"""
```

---

#### **3. `fanf.annotated_text_fanf` - –ü–æ–ª–Ω–∞—è FANF –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è**

**–§–∞–π–ª**: `studiocore/fanf_annotation.py`, —Å—Ç—Ä–æ–∫–∏ 238-259

```python
def _compose_annotation(
    self,
    cinematic_header: str,
    resonance_header: str,
    sections: Sequence[str],
    zero_pulse: Dict[str, Any],
    color_wave: Any,
    tonality: Dict[str, Any],
    rde: Dict[str, Any],
    choir_active: bool,
) -> str:
    # –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º–∏ –∏ —Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
    body = "\n".join(sections)  # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
    tail = " | ".join([
        f"ZeroPulse: {zero_pulse}",
        f"ColorWave: {color_wave}",
        f"Resonance map: {tonality.get('modal_shifts', [])}",
        f"RDE: {rde.get('state', 'balanced')}",
        f"ChoirLayers: {'enabled' if choir_active else 'off'}"
    ])
    
    return f"{cinematic_header}\n{resonance_header}\n{body}\n{tail}"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
- ‚úÖ –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ü–µ (ZeroPulse, ColorWave, RDE, Choir)

---

#### **4. `fanf.annotated_text_suno` - –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è Suno**

**–§–∞–π–ª**: `studiocore/suno_annotations.py`, —Å—Ç—Ä–æ–∫–∏ 233-269

```python
def build_annotation(self, payload: Dict[str, Any], section_label: str = "Section") -> str:
    # –§–æ—Ä–º–∞—Ç –¥–ª—è Suno: [Section Tag] (BPM:xxx) (Key:x) (Genre:x)
    return (
        f"[{section_label}] "
        f"(BPM:{bpm_label}) (Key:{key}) "
        f"(Genre:{genre}) (Mood:{mood}, Energy:{energy}, Arrangement:{arrangement})"
    )
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
- ‚úÖ –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (BPM, Key, Genre, Mood, Energy)

**–ü—Ä–∏–º–µ—Ä:**
```python
# fanf.annotated_text_suno:
"""
[VERSE] (BPM:120) (Key:Am) (Genre:indie_rock) (Mood:neutral, Energy:mid, Arrangement:standard)
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –∫—É–ø–ª–µ—Ç–∞

[CHORUS] (BPM:130) (Key:Am) (Genre:indie_rock) (Mood:joy, Energy:high, Arrangement:full)
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–ø–µ–≤–∞
"""
```

---

#### **5. `annotations` - –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º**

**–§–∞–π–ª**: `studiocore/core_v6.py`, —Å—Ç—Ä–æ–∫–∏ 1842-1848

```python
annotations = {
    "vocal": self.annotation_engine.add_vocal_annotations(sections, vocal_payload),
    "breath": self.annotation_engine.add_breath_annotations(sections, breathing_profile),
    "tonality": self.annotation_engine.add_tonal_annotations(sections, tonality_payload),
    "emotion": self.annotation_engine.add_emotional_annotations(sections, emotion_payload),
    "rhythm": self.annotation_engine.add_rhythm_annotations(sections, bpm_curve),
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –ù–ï –∏–∑–º–µ–Ω—è–µ—Ç—Å—è**
- ‚úÖ –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω–æ** –≤ —Å–ª–æ–≤–∞—Ä–µ `annotations`
- ‚úÖ –ö–∞–∂–¥—ã–π —Ç–∏–ø –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (vocal, breath, tonality, emotion, rhythm) - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```python
annotations = {
    "vocal": [
        {"section": 0, "annotation": "[soft]", "gender": "male", "tone": "intimate"},
        {"section": 1, "annotation": "[powerful]", "gender": "male", "tone": "strong"},
    ],
    "breath": [
        {"line": 2, "annotation": "[inhale]"},
        {"line": 5, "annotation": "[exhale]"},
    ],
    "tonality": [
        {"section": 0, "key": "Am", "mode": "minor"},
        {"section": 1, "key": "C", "mode": "major"},
    ],
    "emotion": [
        {"section": 0, "emotion": "sadness", "intensity": 0.6},
        {"section": 1, "emotion": "joy", "intensity": 0.8},
    ],
    "rhythm": [
        {"section": 0, "bpm": 120, "curve": [120, 125, 120]},
        {"section": 1, "bpm": 130, "curve": [130, 135, 130]},
    ],
}
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞

### **–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**

1. ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏—è—Ö
2. ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ–∫—Ü–∏–π** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –ø–µ—Ä–µ–Ω–æ—Å—ã)
3. ‚úÖ **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è** - –Ω–æ –ù–ï –∏–∑–º–µ–Ω—è—é—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç

### **–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è:**

```python
result = {
    # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–æ—á–∏—â–µ–Ω–Ω—ã–π –æ—Ç –º–∞—Ä–∫–µ—Ä–æ–≤)
    "fanf": {
        "ui_text": "–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –º–∞—Ä–∫–µ—Ä–æ–≤",
        "lyrics_prompt": "–¢–µ–∫—Å—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ —Å–µ–∫—Ü–∏–π",
        "annotated_text_fanf": "–¢–µ–∫—Å—Ç —Å FANF –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏",
        "annotated_text_suno": "–¢–µ–∫—Å—Ç —Å Suno –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏",
    },
    
    # –î–µ—Ç–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (–æ—Ç–¥–µ–ª—å–Ω–æ)
    "annotations": {
        "vocal": [...],      # –í–æ–∫–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
        "breath": [...],     # –î—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
        "tonality": [...],   # –¢–æ–Ω–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
        "emotion": [...],    # –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
        "rhythm": [...],     # –†–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
    },
    
    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞
    "structure": {
        "sections": ["–°–µ–∫—Ü–∏—è 1", "–°–µ–∫—Ü–∏—è 2", ...],
        "verse": {"index": 0, "text": "...", "confidence": 0.4},
        "chorus": {"index": 1, "text": "...", "confidence": 0.7},
    },
}
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ 100 —Å—Ç—Ä–æ–∫

### **–î–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫—É–ø–ª–µ—Ç–æ–≤:**

1. **–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã**:
   ```
   [Verse 1]
   –°—Ç—Ä–æ–∫–∞ 1...
   
   [Chorus]
   –°—Ç—Ä–æ–∫–∞ 21...
   ```

2. **–†–∞–∑–±–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏**:
   ```
   –°—Ç—Ä–æ–∫–∞ 1 –∫—É–ø–ª–µ—Ç–∞
   ...
   –°—Ç—Ä–æ–∫–∞ 20
   
   –°—Ç—Ä–æ–∫–∞ 21 –ø—Ä–∏–ø–µ–≤–∞
   ...
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏**:
   ```
   Verse 1:
   –°—Ç—Ä–æ–∫–∞ 1...
   
   Chorus:
   –°—Ç—Ä–æ–∫–∞ 21...
   ```

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- ‚úÖ –ö—É–ø–ª–µ—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—Ç—Å—è —Å –≤—ã—Å–æ–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é (confidence = 0.75)
- ‚úÖ –ü—Ä–∏–ø–µ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
- ‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è
- ‚úÖ –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ

---

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—É–ø–ª–µ—Ç–æ–≤**:
   - –ü–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (`verse`, `–∫—É–ø–ª–µ—Ç`) ‚Üí –≤—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
   - –ü–æ fallback –∏–Ω–¥–µ–∫—Å—É ‚Üí –Ω–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
   - –ü–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è ‚Üí –¥–ª—è –ø—Ä–∏–ø–µ–≤–∞

2. **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞**:
   - ‚úÖ **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
   - ‚úÖ –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ
   - ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π (UI, Suno, FANF)

3. **–î–ª—è —Ç–µ–∫—Å—Ç–∞ –ë–ï–ó –º–∞—Ä–∫–µ—Ä–æ–≤**:
   - ‚ö†Ô∏è –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±—É–¥–µ—Ç –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–º (confidence = 0.4)
   - ‚úÖ –ù–æ —Å–∏—Å—Ç–µ–º–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç
   - ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

