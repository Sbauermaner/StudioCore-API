# Обновление логики автоматического именования секций

## Проблема
Текст с 5 куплетами по 4 строки, разделенными двойными пустыми строками, определялся как одна секция вместо 5.

## Исправления

### 1. Сохранение двойных пустых строк в `normalize_text_preserve_symbols`
**Файл:** `studiocore/text_utils.py`

Исправлена логика схлопывания пустых строк - теперь сохраняются максимум 2 пустые строки подряд, что позволяет использовать двойные пустые строки как разделители секций.

### 2. Автоматическое именование секций
**Файл:** `studiocore/text_utils.py`

Добавлена функция `_assign_section_names()`, которая автоматически присваивает имена секциям согласно структуре песни:

- **1 секция:** Verse
- **2 секции:** Intro, Verse
- **3 секции:** Intro, Verse, Outro
- **4 секции:** Intro, Verse, Chorus, Outro
- **5 секций:** Intro, Verse, Pre-Chorus, Chorus, Outro
- **6 секций:** Intro, Verse 1, Pre-Chorus, Chorus, Verse 2, Outro
- **7 секций:** Intro, Verse 1, Pre-Chorus, Chorus, Verse 2, Bridge, Outro
- **8+ секций:** Intro, Verse 1, Pre-Chorus, Chorus, Verse 2, Bridge, Chorus, Outro...

### 3. Структура секций песни

Согласно требованиям, секции именуются следующим образом:

1. **Intro (Вступление)** - Музыкальная часть в начале, задающая тон
2. **Verse (Куплет)** - Основной текст песни, более спокойный
3. **Pre-Chorus (Пред-припев)** - Переход от куплета к припеву
4. **Chorus (Припев)** - Самая запоминающаяся и энергичная часть
5. **Post-Chorus / Tag** - После припева (опционально)
6. **Bridge (Бридж)** - Одноразовый раздел, отличающийся от остальных
7. **Chorus (Припев)** - Повторяется после бриджа
8. **Outro (Концовка)** - Завершающая часть

## Результат

Теперь текст автоматически разбивается на секции по двойным пустым строкам и получает правильные имена согласно структуре песни. Аннотации добавляются согласно логике проекта через существующие механизмы FANF и Suno annotations.

## Тестирование

Протестировано на тексте из 5 куплетов по 4 строки:
- ✅ Правильно определяется 5 секций
- ✅ Секции получают имена: Intro, Verse, Pre-Chorus, Chorus, Outro
- ✅ Аннотации добавляются через существующие механизмы

